<div align="center">
  
# üìù Real-Time Collaborative Document Editor

### *Where ideas meet collaboration*

[![Next.js](https://img.shields.io/badge/Next.js-15.x-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.x-61DAFB?style=for-the-badge&logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![Socket.IO](https://img.shields.io/badge/Socket.IO-4.x-010101?style=for-the-badge&logo=socket.io)](https://socket.io/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)](https://postgresql.org/)
[![Redis](https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white)](https://redis.io/)

*A powerful, modern collaborative document platform that enables seamless real-time editing, version control, and team workflow management. Built with cutting-edge technologies for the modern web.*

</div>

---

## ‚ú® Features

<table>
<tr>
<td width="50%">

### üîÑ **Real-Time Collaboration**
- **Simultaneous editing** by multiple users
- **Live cursor tracking** and user presence
- **Conflict-free synchronization** with Operational Transform
- **Instant auto-save** with visual indicators
- **Real-time notifications** for document changes

### üå≥ **Git-Like Version Control**
- **Complete version history** with rollback capability
- **Branch creation** for parallel development
- **Smart merge system** with conflict resolution
- **Visual diff tools** for comparing versions
- **Restore any previous version** with one click

</td>
<td width="50%">

### üë• **Advanced Collaboration**
- **Granular permissions** (read, write, admin)
- **Document sharing** with public/private controls
- **Team workspace** management
- **Activity logs** and audit trails
- **Professional workflow** support

### üé® **Rich Editor Experience**
- **Modern TipTap editor** with extensive formatting
- **Responsive design** for all devices
- **Keyboard shortcuts** for power users
- **Export capabilities** (PDF, DOCX, HTML)
- **Intuitive sidebar** for navigation

</td>
</tr>
</table>

---

## üõ†Ô∏è Technology Stack

<div align="center">

| **Category** | **Technologies** |
|--------------|------------------|
| **Frontend** | Next.js 15, React 19, TypeScript, Tailwind CSS |
| **Editor** | TipTap, Prosemirror, Rich Text Extensions |
| **Real-time** | Socket.IO, WebSocket, Operational Transform |
| **Backend** | Next.js API Routes, Server Actions |
| **Database** | PostgreSQL, Drizzle ORM, Redis Cache |
| **Auth** | JWT, bcrypt, Secure Sessions |
| **UI/UX** | Radix UI, Lucide Icons, CSS Animations |
| **Tools** | TypeScript, ESLint, Prettier, Zod |

</div>

---

## üì∏ Screenshots

<div align="center">

### üè† Beautiful Landing Page
![Landing Page](./public/home.png)

### ‚úçÔ∏è SignIn / Signup page
![SignIn / Signup](./public/login.png)

### üìä Collaboration Dashboard
![Dashboard](./public/editor.png)

### üå≥ Version Control & Branching
![Version Control](./public/version-control.png)

</div>

---

## üèóÔ∏è Architecture Overview

```mermaid
graph TB
    subgraph "Frontend Layer"
        A[Next.js Client] --> B[TipTap Editor]
        A --> C[Socket.IO Client]
        A --> D[React Components]
    end
    
    subgraph "Backend Layer"
        E[Next.js API] --> F[Authentication]
        E --> G[Document Management]
        E --> H[WebSocket Server]
    end
    
    subgraph "Data Layer"
        I[PostgreSQL] --> J[Users & Documents]
        I --> K[Version History]
        L[Redis] --> M[Sessions]
        L --> N[Real-time Cache]
    end
    
    subgraph "Real-time Engine"
        O[Operational Transform] --> P[Conflict Resolution]
        O --> Q[Live Synchronization]
    end
    
    A --> E
    C --> H
    E --> I
    E --> L
    H --> O
```

### üîÑ Real-Time Synchronization Flow

1. **User Input** ‚Üí Editor captures changes
2. **Operation Transform** ‚Üí Converts changes to operations
3. **WebSocket Broadcast** ‚Üí Sends to all connected clients
4. **Conflict Resolution** ‚Üí Merges simultaneous edits
5. **State Update** ‚Üí Updates all client editors
6. **Database Sync** ‚Üí Persists changes to PostgreSQL

---

## üöÄ Quick Start

> **Prerequisites:** Node.js 18+, PostgreSQL, Redis (optional), and pnpm/npm

### 1Ô∏è‚É£ Clone & Install

```bash
# Clone the repository
git clone https://github.com/your-username/real-time-document-editor.git
cd real-time-document-editor

# Install dependencies
pnpm install
# or
npm install
```

### 2Ô∏è‚É£ Environment Setup

Create your environment file:

```bash
cp .env.example .env
```

Configure your `.env` file:

```env
# Database Configuration
POSTGRES_URL=postgresql://username:password@localhost:5432/realtime_docs
DATABASE_URL=postgresql://username:password@localhost:5432/realtime_docs

# Application Settings
BASE_URL=http://localhost:3000
AUTH_SECRET=your-super-secret-jwt-key-min-32-chars
NODE_ENV=development

# Redis Configuration (Optional - app works without Redis)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password

# Optional: External Services
WEBHOOK_URL=your-webhook-endpoint
```

### 3Ô∏è‚É£ Database Setup

```bash
# Initialize database and generate schema
pnpm db:setup

# Or run steps manually
pnpm db:generate
pnpm db:migrate
pnpm db:seed
```

### 4Ô∏è‚É£ Start Development

```bash
# Start development server with hot reload
pnpm dev

# The app will be available at http://localhost:3000
```

### 5Ô∏è‚É£ Production Deployment

```bash
# Build the application
pnpm build

# Start production server
pnpm start
```

**Important Notes for Production:**
- Socket.IO now works consistently in both dev and production modes
- Redis connection failures are handled gracefully with automatic retries
- The app will continue to work without Redis (with reduced collaborative features)
- Increased timeouts and retry logic for better production reliability

### 6Ô∏è‚É£ First Steps

```bash
# Create database
createdb realtime_docs

# Setup database schema
pnpm db:setup

# Generate and run migrations
pnpm db:generate
pnpm db:migrate

# Seed initial data (optional)
pnpm db:seed

# View database in Drizzle Studio (optional)
pnpm db:studio
```

### 4Ô∏è‚É£ Start Development

```bash
# Start the development server
pnpm dev

# Server will be available at:
# üåê Web: http://localhost:3000
# üîå WebSocket: ws://localhost:3000
```

### 5Ô∏è‚É£ First Steps

1. **Sign Up** ‚Üí Create your account at `/sign-up`
2. **Create Document** ‚Üí Start your first collaborative document
3. **Invite Others** ‚Üí Share with team members
4. **Start Collaborating** ‚Üí Experience real-time editing magic! ‚ú®

---

## üìñ User Guide

### üéØ Getting Started

<details>
<summary><b>üîê Authentication</b></summary>

- **Sign Up**: Create a new account with email and secure password
- **Sign In**: Access your documents with existing credentials
- **Session Management**: Secure JWT-based authentication with auto-renewal

</details>

<details>
<summary><b>üìù Document Management</b></summary>

- **Create Document**: Click "New Document" from the dashboard
- **Open Document**: Click any document tile to start editing
- **Document Settings**: Access sharing, permissions, and metadata
- **Organization**: Filter and search your document library

</details>

<details>
<summary><b>‚úçÔ∏è Collaborative Editing</b></summary>

- **Real-time Sync**: See changes from other users instantly
- **User Presence**: View active collaborators and their cursors
- **Auto-save**: Documents save automatically every few seconds
- **Formatting**: Rich text editor with comprehensive formatting tools

</details>

<details>
<summary><b>üå≥ Version Control</b></summary>

- **Version History**: Access complete document timeline
- **Create Branches**: Experiment with parallel development
- **Merge Changes**: Combine branches with smart conflict resolution
- **Restore Versions**: Roll back to any previous state

</details>

<details>
<summary><b>üë• Collaboration Features</b></summary>

- **Share Documents**: Invite users via email or shareable links
- **Permission Levels**: Set read, write, or admin access
- **Team Workspaces**: Organize documents by teams or projects
- **Activity Tracking**: Monitor all document changes and user actions

</details>

---

## üîß Development

### üõ†Ô∏è Available Scripts

```bash
# Development
pnpm dev              # Start development server
pnpm build            # Build for production
pnpm start            # Start production server

# Database Management
pnpm db:setup         # Initialize database
pnpm db:generate      # Generate migrations
pnpm db:migrate       # Run migrations
pnpm db:seed          # Seed test data
pnpm db:studio        # Open Drizzle Studio

# Code Quality
pnpm lint             # Run ESLint
pnpm type-check       # TypeScript check
pnpm format           # Format with Prettier
```

### üåê Environment Variables

| Variable | Description | Required | Default |
|----------|-------------|----------|---------|
| `POSTGRES_URL` | PostgreSQL connection string | ‚úÖ | - |
| `REDIS_HOST` | Redis server host | ‚ö†Ô∏è | `127.0.0.1` |
| `REDIS_PORT` | Redis server port | ‚ö†Ô∏è | `6379` |
| `REDIS_PASSWORD` | Redis server password | ‚ö†Ô∏è | - |
| `AUTH_SECRET` | JWT signing secret (32+ chars) | ‚úÖ | - |
| `BASE_URL` | Application base URL | ‚úÖ | `http://localhost:3000` |
| `NODE_ENV` | Environment mode | ‚úÖ | `development` |

‚ö†Ô∏è **Redis is optional** - The application will work without Redis but with reduced collaborative features.

### üîç Troubleshooting

#### Socket.IO Connection Issues

**Problem**: Socket.IO timeouts in production mode
**Solution**: ‚úÖ Fixed! The app now uses consistent server configuration in both dev and production.

**Problem**: "Connection timeout" errors
**Solutions**:
- Check that `BASE_URL` environment variable matches your deployment URL
- Ensure the server is running on the correct port
- Verify WebSocket support is enabled in your hosting environment

#### Redis Connection Issues

**Problem**: Redis connection failures
**Solution**: ‚úÖ The app now handles Redis failures gracefully:
- Automatic retry logic (5 attempts with exponential backoff)
- Graceful fallback when Redis is unavailable
- Real-time features work without Redis (with some limitations)

**Problem**: TLS/SSL errors with cloud Redis
**Solution**: The app auto-detects Redis configuration:
- Uses `rediss://` protocol for cloud Redis with TLS
- Uses standard connection for local Redis
- Handles authentication automatically

#### Testing Socket.IO

Visit `/socket-test` in your browser to test Socket.IO connectivity:
- Real-time connection status
- Debug logs and error messages
- Authentication testing

```bash
# Test Socket.IO endpoint directly
curl -I http://localhost:3000/socket.io/
# Should return HTTP 400 (expected for direct HTTP access)
```

---

## üîí Security & Privacy

### üõ°Ô∏è Security Features

- **üîê JWT Authentication** with secure token rotation
- **üîë Password Hashing** using bcrypt with salt rounds  
- **üéØ Role-based Access Control** for documents and features
- **‚úÖ Input Validation** with Zod schema validation
- **üõë SQL Injection Protection** via parameterized queries
- **üö´ XSS Prevention** with proper input sanitization
- **üîí CSRF Protection** with secure headers
- **üì° Secure WebSocket** connections with authentication

### üîê Privacy Compliance

- **Data Encryption** in transit and at rest
- **User Consent** management for data processing
- **Data Retention** policies with automatic cleanup
- **Audit Logging** for compliance requirements
- **GDPR Ready** with data export and deletion

---

## üìà Roadmap

### üéØ Current Focus (v1.x)

- [ ] **üì± Mobile App** - React Native version
- [ ] **üîç Advanced Search** - Full-text search across documents
- [ ] **üìä Analytics Dashboard** - Usage metrics and insights
- [ ] **üé® Custom Themes** - User-defined editor themes
- [ ] **üîó Integrations** - Slack, Discord, Teams notifications

### üöÄ Future Plans (v2.x)

- [ ] **ü§ñ AI Assistant** - Smart writing suggestions
- [ ] **üìπ Video Calls** - Integrated collaboration calls
- [ ] **üìÅ Advanced Workflows** - Approval processes
- [ ] **üåç Offline Support** - Work without internet
- [ ] **üìä Advanced Analytics** - Team productivity insights

---

## üåü Showcase

### üèÜ Perfect For

- **ÔøΩ Technical Documentation** - API docs, guides, wikis
- **‚úçÔ∏è Content Creation** - Blog posts, articles, books
- **üéì Education** - Collaborative note-taking, research
- **üíº Business** - Reports, proposals, meeting notes
- **üë• Team Projects** - Sprint planning, brainstorming
- **üìö Knowledge Management** - Company wikis, handbooks

### üí° Use Cases

- **Remote Teams** collaborating on documentation
- **Content Teams** creating and reviewing articles
- **Educational Institutions** for collaborative research
- **Consultancies** working on client proposals
- **Open Source Projects** maintaining documentation

---

## üôè Acknowledgments

Special thanks to the amazing open-source community:

- **[TipTap](https://tiptap.dev/)** - Excellent headless editor framework
- **[Socket.IO](https://socket.io/)** - Reliable real-time communication  
- **[Drizzle ORM](https://orm.drizzle.team/)** - Type-safe database operations
- **[Next.js](https://nextjs.org/)** - Outstanding React framework
- **[Tailwind CSS](https://tailwindcss.com/)** - Utility-first CSS framework
- **[Radix UI](https://www.radix-ui.com/)** - Accessible component primitives

---

## üìÑ License

This project is licensed under the **MIT License** - see the [LICENSE](LICENSE) file for details.

```
MIT License - Feel free to use this project for commercial and non-commercial purposes.
```

---

<div align="center">

### ‚≠ê If you find this project helpful, please give it a star!

**Built with ‚ù§Ô∏è using Next.js, React, and modern web technologies**

[‚¨ÜÔ∏è Back to top](#-real-time-collaborative-document-editor)

---

*Made with üí° by passionate developers for the developer community*

</div>